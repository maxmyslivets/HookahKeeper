

############################################################
#
#                 Создание модулей
#
############################################################

<ButtonStol@Button>:
    font_size: '14'
    size_hint_x: .4
    background_normal: ''
    background_color: (.12, .12, .17, 1)

    on_release: app.add_hookah_window()

<LabelStol@Label>:
    text_size: self.size
    halign: 'left'
    valign: 'middle'
    font_size: '12'

<Box10@BoxLayout>:
    spacing: 10

<BoxVert@BoxLayout>:
    orientation: 'vertical'

############################################################
#
#                 Окно
#
############################################################

<RootLayout>:
    orientation: 'vertical'
    canvas:
        Color:
            rgba: .17, .18, .24, .9
        Rectangle:
            pos: self.pos
            size: self.size

    time_label: time_label

    ############################################################
    #
    #                 Toolbar (Anchor)
    #
    ############################################################
    
    AnchorLayout:
        id: Toolbar
        size_hint_y: None
        canvas:
            Color:
                rgba: .17, .18, .24, 1
            Rectangle:
                pos: self.pos
                size: self.size

        BoxLayout:
            Image:
                source: 'logo.png'
                size_hint: .2, 1

            BoxLayout:
                orientation: 'vertical'
                size_hint_x: .4
                Label:
                    text: 'HOOKAH'
                    font_size: '40sp'
                    text_size: self.size
                    halign: 'left'
                    valign: 'bottom'
                Label:
                    size_hint_y: .5
                    text: ' by Max Myslivets for Sfera Club'
                    font_size: '14sp'
                    text_size: self.size
                    halign: 'left'
                    valign: 'top'
            
            Label:
                id: time_label
                font_size: '30'
                halign: 'center'
                valign: 'middle'
                
            BoxLayout:
                spacing: 2
                size_hint_x: .1

            BoxLayout:
                spacing: 2
                size_hint: None, None
                size: 68, 32
                pos_hint: {'top': 1}
                
                MDIconButton:
                    id: min_window_button
                    icon: "window-minimize"

                    user_font_size: "14sp"
                    pos_hint: {'top': 1}
                    
                    on_release: app.win_min()
            
                MDIconButton:

                    id: close_window_button
                    icon: "window-close"

                    user_font_size: "14sp"
                    pos_hint: {'top': 1}

                    on_release: app.stop()


                # stop()    выход из app или root
                # hide()    Скрывает окно
                # restore() Восстанавливает размер и положение развернутого или свернутого окна
                # show( )   показывает
                # on_stop( ) Обработчик события запускается, когда окно собирается закрыться


    ############################################################
    #
    #                 Столы в боксах (по 9 шт.)
    #
    ############################################################
    
    BoxLayout:
        orientation: 'horizontal'
        padding: 20, 0, 20, 0
        BoxLayout:
            BoxLayout:
                padding: 5, 20, 5, 20
                spacing: 2
                orientation: 'vertical'

                Box10:
                    ButtonStol:
                        text: '1'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '2'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '3'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '4'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '5'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '6'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '7'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '8'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '9'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

            BoxLayout:
                padding: 5, 20, 5, 20
                spacing: 2
                orientation: 'vertical'

                Box10:
                    ButtonStol:
                        text: '10'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '11'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '12'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '13'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '14'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '15'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '16'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '17'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '18'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

            BoxLayout:
                padding: 5, 20, 5, 20
                spacing: 2
                orientation: 'vertical'

                Box10:
                    ButtonStol:
                        text: '19'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '20'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '21'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '22'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '23'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '24'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: '25'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: 'Б'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

                Box10:
                    ButtonStol:
                        text: 'К'
                    BoxVert:
                        LabelStol:
                            text: 'None'
                        LabelStol:
                            text: '0 / 0'

            
            
            ############################################################
            #
            #                 Время + анимация жизни кальяна
            #
            ############################################################

        BoxLayout:
            size_hint_x: .5
            pos_hint: {'right': 1, 'center_y': .5}
            canvas:
                Color:
                    rgba: .12, .12, .12, .2
                Rectangle:
                    pos: self.pos
                    size: self.size
            #Image:
                #source: 'time_circle.png'
                #size_hint: 2, 1
            Label:
                id: data_base
                text: u'База\nДанных'
                font_size: '24'
                halign: 'center'
                valign: 'middle'

<AddHokahWindow>
    BoxLayout:
        orientation: 'vertical'
        padding: 40, 0, 40, 40
        canvas:
            Color:
                rgba: .17, .18, .24, .9
            Rectangle:
                pos: self.pos
                size: self.size

        AnchorLayout:
            size_hint_y: .4

            Label:
                pos_hint: {'center_y': .5}
                text: u'ДОБАВИТЬ ЗАКАЗ'
                font_size: '24'

        BoxLayout:

            BoxLayout:
                orientation: 'vertical'
                size_hint_x: .6
                spacing: 4

                Button:
                    size_hint_x: 1
                    font_size: '14'
                    background_normal: ''
                    background_color: (.12, .12, .17, 1)
                    text: u"КЛАССИЧЕСКИЙ"
                Button:
                    size_hint_x: 1
                    font_size: '14'
                    background_normal: ''
                    background_color: (.12, .12, .17, 1)
                    text: u'С ДОБАВКАМИ'
                Button:
                    size_hint_x: 1
                    font_size: '14'
                    background_normal: ''
                    background_color: (.12, .12, .17, 1)
                    text: u'НА ФРУКТЕ'
                Button:
                    size_hint_x: 1
                    font_size: '14'
                    background_normal: ''
                    background_color: (.12, .12, .17, 1)
                    text: u'МИКС'
                Button:
                    size_hint_x: 1
                    font_size: '14'
                    background_normal: ''
                    background_color: (.12, .12, .17, 1)
                    text: u'ЗАМЕНА ЧАШИ'

